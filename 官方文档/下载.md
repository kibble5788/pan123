# 文件下载接口说明
## 一、接口基础信息
- **API 地址**：GET 域名 + /api/v1/file/download_info
- **核心用途**：获取文件的下载地址，通过该地址可下载目标文件。

## 二、请求参数
### （一）Header 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| Authorization | string | 是 | 鉴权 access_token |
| Platform | string | 是 | 固定值：open_platform |

### （二）QueryString 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileId | number | 是 | 目标文件的唯一 ID |

## 三、请求示例（参考格式）
### Curl 示例（模板）
```curl
curl --location 'https://open-api.123pan.com/api/v1/file/download_info?fileId=14749954' \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5c...(过长省略)' \
--header 'Platform: open_platform'
```

### 其他语言示例
支持 Java - OkHttp、JavaScript - jQuery、NodeJs - Axios、Python - http.client 等语言，具体实现可参考官方完整文档。

## 四、返回数据
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| downloadUrl | string | 是 | 文件下载地址，通过该 URL 可直接下载文件（地址有效期等规则以官方为准） |

## 五、响应示例（参考格式）
```json
{
"code": 0,
"message": "ok",
"data": {
"downloadUrl": "https://download.123pan.com/file/14749954?token=xxx"
},
"x-traceID": "abc12345-6789-def0-1234-567890abcdef_kong-db-5898fdd8c6-t5pvc"
}
```

## 六、异常返回说明
| code | 异常原因 | 示例 message |
| ---- | ---- | ---- |
| 5113 | 自用下载流量不足 | 您今日自用下载流量已超出1GB上限，升级VIP会员可无限流量下载 |
| 5066 | 文件不存在 | 文件不存在，检查传入 fileId 是否正确 |

## 补充说明
- 响应中 `code: 0` 表示接口请求成功，`downloadUrl` 为有效的文件下载地址，建议获取后及时使用（通常下载地址有有效期限制，具体以官方规则为准）。
- 若出现异常返回，可根据 `code` 和 `message` 字段排查问题：流量不足需升级会员或等待流量重置，文件不存在需核对 `fileId` 正确性。
- 若文件处于回收站、审核驳回状态（`status > 100`）或无访问权限，可能返回对应异常提示，具体错误信息以接口返回的 `message` 为准。