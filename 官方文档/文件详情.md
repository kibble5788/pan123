# 获取单个文件详情接口说明
## 一、接口基础信息
- **API 地址**：GET 域名 + /api/v1/file/detail
- **核心说明**：支持查询单个文件或文件夹的详细信息，包含文件夹内文件总大小。

## 二、请求参数
### （一）Header 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| Authorization | string | 是 | 鉴权 access_token |
| Platform | string | 是 | 固定值：open_platform |

### （二）QueryString 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileID | number | 是 | 目标文件/文件夹的唯一 ID |

## 三、请求示例（Curl）
```curl
curl --location 'https://open-api.123pan.com/api/v1/file/detail?fileID=14749954' \
--header 'Content-Type: application/json' \
--header 'Platform: open_platform' \
--header 'Authorization: Bearer eyJhbGciOiJI...(过长省略)'
```

### 其他语言示例
支持 Java - OkHttp、JavaScript - jQuery、NodeJs - Axios、Python - http.client 等语言，具体实现可参考官方完整文档。

## 四、返回数据
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileID | number | 是 | 文件/文件夹唯一 ID |
| filename | string | 是 | 文件名/文件夹名 |
| type | number | 是 | 类型标识：0-文件，1-文件夹 |
| size | number | 是 | 文件大小（单位：byte）；若为文件夹，返回文件夹内文件总大小 |
| etag | string | 是 | 文件 MD5 值 |
| status | number | 是 | 文件审核状态：大于 100 表示审核驳回 |
| parentFileID | number | 是 | 父级目录 ID |
| createAt | string | 是 | 文件/文件夹创建时间（格式：YYYY-MM-DD HH:MM:SS） |
| trashed | number | 是 | 是否在回收站：0-否，1-是 |

## 五、响应示例
```json
{
"code": 0,
"message": "ok",
"data": {
"fileID": 14749954,
"filename": "Keyshot_win64_2024.exe",
"type": 0,
"size": 1163176272,
"etag": "ab6dd0cfca2da20f84f55d2ed73a8c3d",
"status": 2,
"parentFileID": 14749926,
"createAt": "2025-02-28 09:25:54",
"trashed": 0
},
"x-traceID": "4391f785-4395-41f9-a299-ac1ddc8dc45d_kong-db-5898fdd8c6-t5pvc"
}
```

## 补充说明
- 响应中 `code: 0` 表示接口请求成功，`data` 字段包含完整的文件/文件夹详情。
- 若查询的 `fileID` 不存在或无访问权限，接口会返回对应错误提示，具体信息可查看 `message` 字段。
- 文件夹的 `size` 字段返回其包含的所有文件总大小，不包含文件夹本身占用空间（通常文件夹本身不占用实际存储容量）。


# 获取多个文件详情接口说明
## 一、接口基础信息
- **API 地址**：POST 域名 + /api/v1/file/infos
- **核心用途**：批量查询多个文件或文件夹的详细信息，高效获取多文件属性。

## 二、请求参数
### （一）Header 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| Authorization | string | 是 | 鉴权 access_token |
| Platform | string | 是 | 固定值：open_platform |

### （二）Body 参数
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileIds | []number（数字数组） | 是 | 待查询文件/文件夹的唯一 ID 数组 |

## 三、请求示例（参考格式）
### Curl 示例（模板）
```curl
curl --request POST \
--url "域名 + /api/v1/file/infos" \
--header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5c...(过长省略)' \
--header 'Platform: open_platform' \
--header 'Content-Type: application/json' \
--data '{
"fileIds": [14749954, 14749926, 14705301]
}'
```

### 其他语言示例
支持 Java - OkHttp、JavaScript - jQuery、NodeJs - Axios、Python - http.client 等语言，具体实现可参考官方完整文档。

## 四、返回数据
### （一）整体结构
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileList | array | 是 | 多文件详情列表，数组中每个元素对应一个查询的文件/文件夹信息 |

### （二）fileList 成员结构
| 名称 | 类型 | 是否必填 | 说明 |
| ---- | ---- | ---- | ---- |
| fileId | number | 是 | 文件/文件夹唯一 ID |
| filename | string | 是 | 文件名/文件夹名 |
| parentFileId | number | 是 | 父目录 ID |
| type | number | 是 | 类型标识：0-文件，1-文件夹 |
| etag | string | 是 | 文件 MD5 值 |
| size | number | 是 | 文件大小（单位：byte）；文件夹返回其包含文件总大小 |
| category | number | 是 | 文件分类：0-未知，1-音频，2-视频，3-图片 |
| status | number | 是 | 文件审核状态：大于 100 表示审核驳回 |
| punishFlag | number | 是 | 惩罚标记（具体含义参考官方业务规则） |
| s3KeyFlag | string | 是 | 关联 s3_key 的初始用户标识 |
| storageNode | string | 是 | 存储节点：m0 为 ceph，m1 及以上为 minio |
| trashed | number | 是 | 是否在回收站：0-否，1-是 |
| createAt | string | 是 | 创建时间（格式通常为 YYYY-MM-DD HH:MM:SS，以官方返回为准） |
| updateAt | number | 是 | 更新时间（格式通常为时间戳，以官方返回为准） |

## 五、响应示例（参考格式）
```json
{
"code": 0,
"message": "ok",
"data": {
"fileList": [
{
"fileId": 14749954,
"filename": "Keyshot_win64_2024.exe",
"parentFileId": 14749926,
"type": 0,
"etag": "ab6dd0cfca2da20f84f55d2ed73a8c3d",
"size": 1163176272,
"category": 0,
"status": 2,
"punishFlag": 0,
"s3KeyFlag": "test_flag",
"storageNode": "m0",
"trashed": 0,
"createAt": "2025-02-28 09:25:54",
"updateAt": 1738014354
},
{
"fileId": 14749926,
"filename": "安装包文件夹",
"parentFileId": 0,
"type": 1,
"etag": "",
"size": 2326352544,
"category": 0,
"status": 2,
"punishFlag": 0,
"s3KeyFlag": "test_flag",
"storageNode": "m0",
"trashed": 0,
"createAt": "2025-02-27 15:10:22",
"updateAt": 1737933022
}
]
},
"x-traceID": "7892f123-4567-890a-bcde-f123456789ab_kong-db-5898fdd8c6-t5pvc"
}
```

## 补充说明
- 响应中 `code: 0` 表示接口请求成功，`fileList` 按传入的 `fileIds` 顺序返回对应详情（若部分文件 ID 不存在，可能不返回该文件信息或在对应位置返回空，具体以官方逻辑为准）。
- 若传入的 `fileIds` 为空数组或无访问权限，接口会返回对应错误提示，具体信息可查看 `message` 字段。
- 建议单次查询的文件 ID 数量适中，避免因数量过多导致响应延迟，具体上限可参考官方性能建议。